<!doctype html><html lang=zh-tw dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Anbox | Simba's Blog</title><meta name=keywords content><meta name=description content="anbox 是 Android in a box，是一種基於容器化技術的 Android 模擬器，所以執行速度會比較快、比較省資源，而且因為每個 App 都在各自的容器裡面，所以比較安全 （應該沒理解錯吧？）。
安裝 anbox 需要先安裝兩個 kernal modules，然後安裝 anbox 後，為了之後方便，所以要裝 Google Play，不裝也是可以，但之後安裝其他 App 比較麻煩
系統 我用的系統是 Ubuntu 21.04，如果你的系統不一樣，可能會有某些步驟不太一樣。
這次安裝因為涉及 Linux Kernel 所以隨時重開機有很大機會幫助改善遇到的問題
安裝 Linux Kernal Modules 如果你的 Linux kernale > 5.0，那理論上已經包在 Kernel 裡面了，所以不用安裝
Starting with Ubuntu 19.04 binder and ashmem are now build with the standard Ubuntu kernel (>= 5.0) and you don’t have to install the modules from the PPA anymore."><meta name=author content="simba-fs"><link rel=canonical href=https://blog.simba-fs.dev/posts/linux/anbox/><link crossorigin=anonymous href=/assets/css/stylesheet.min.48a18943c2fc15c38a372b8dde1f5e5dc0bc64fa6cb90f5a817d2f8c76b7f3ae.css integrity="sha256-SKGJQ8L8FcOKNyuN3h9eXcC8ZPpsuQ9agX0vjHa3864=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.simba-fs.dev/images/icon/icon.png><link rel=icon type=image/png sizes=16x16 href=https://blog.simba-fs.dev/images/icon/icon-16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.simba-fs.dev/images/icon/icon-32.png><link rel=apple-touch-icon href=https://blog.simba-fs.dev/images/icon/icon.png><link rel=mask-icon href=https://blog.simba-fs.dev/images/icon/icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-175823992-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="Anbox"><meta property="og:description" content="anbox 是 Android in a box，是一種基於容器化技術的 Android 模擬器，所以執行速度會比較快、比較省資源，而且因為每個 App 都在各自的容器裡面，所以比較安全 （應該沒理解錯吧？）。
安裝 anbox 需要先安裝兩個 kernal modules，然後安裝 anbox 後，為了之後方便，所以要裝 Google Play，不裝也是可以，但之後安裝其他 App 比較麻煩
系統 我用的系統是 Ubuntu 21.04，如果你的系統不一樣，可能會有某些步驟不太一樣。
這次安裝因為涉及 Linux Kernel 所以隨時重開機有很大機會幫助改善遇到的問題
安裝 Linux Kernal Modules 如果你的 Linux kernale > 5.0，那理論上已經包在 Kernel 裡面了，所以不用安裝
Starting with Ubuntu 19.04 binder and ashmem are now build with the standard Ubuntu kernel (>= 5.0) and you don’t have to install the modules from the PPA anymore."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.simba-fs.dev/posts/linux/anbox/"><meta property="og:image" content="https://blog.simba-fs.dev/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-18T18:53:50+08:00"><meta property="article:modified_time" content="2022-04-18T18:53:50+08:00"><meta property="og:site_name" content="Simba 的喵窩"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.simba-fs.dev/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Anbox"><meta name=twitter:description content="anbox 是 Android in a box，是一種基於容器化技術的 Android 模擬器，所以執行速度會比較快、比較省資源，而且因為每個 App 都在各自的容器裡面，所以比較安全 （應該沒理解錯吧？）。
安裝 anbox 需要先安裝兩個 kernal modules，然後安裝 anbox 後，為了之後方便，所以要裝 Google Play，不裝也是可以，但之後安裝其他 App 比較麻煩
系統 我用的系統是 Ubuntu 21.04，如果你的系統不一樣，可能會有某些步驟不太一樣。
這次安裝因為涉及 Linux Kernel 所以隨時重開機有很大機會幫助改善遇到的問題
安裝 Linux Kernal Modules 如果你的 Linux kernale > 5.0，那理論上已經包在 Kernel 裡面了，所以不用安裝
Starting with Ubuntu 19.04 binder and ashmem are now build with the standard Ubuntu kernel (>= 5.0) and you don’t have to install the modules from the PPA anymore."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"posts","item":"https://blog.simba-fs.dev/posts/"},{"@type":"ListItem","position":2,"name":"linux","item":"https://blog.simba-fs.dev/posts/linux/"},{"@type":"ListItem","position":3,"name":"Anbox","item":"https://blog.simba-fs.dev/posts/linux/anbox/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Anbox","name":"Anbox","description":"anbox 是 Android in a box，是一種基於容器化技術的 Android 模擬器，所以執行速度會比較快、比較省資源，而且因為每個 App 都在各自的容器裡面，所以比較安全 （應該沒理解錯吧？）。\n安裝 anbox 需要先安裝兩個 kernal modules，然後安裝 anbox 後，為了之後方便，所以要裝 Google Play，不裝也是可以，但之後安裝其他 App 比較麻煩\n系統 我用的系統是 Ubuntu 21.04，如果你的系統不一樣，可能會有某些步驟不太一樣。\n這次安裝因為涉及 Linux Kernel 所以隨時重開機有很大機會幫助改善遇到的問題\n安裝 Linux Kernal Modules 如果你的 Linux kernale \u0026gt; 5.0，那理論上已經包在 Kernel 裡面了，所以不用安裝\nStarting with Ubuntu 19.04 binder and ashmem are now build with the standard Ubuntu kernel (\u0026gt;= 5.0) and you don’t have to install the modules from the PPA anymore.","keywords":[],"articleBody":"anbox 是 Android in a box，是一種基於容器化技術的 Android 模擬器，所以執行速度會比較快、比較省資源，而且因為每個 App 都在各自的容器裡面，所以比較安全 （應該沒理解錯吧？）。\n安裝 anbox 需要先安裝兩個 kernal modules，然後安裝 anbox 後，為了之後方便，所以要裝 Google Play，不裝也是可以，但之後安裝其他 App 比較麻煩\n系統 我用的系統是 Ubuntu 21.04，如果你的系統不一樣，可能會有某些步驟不太一樣。\n這次安裝因為涉及 Linux Kernel 所以隨時重開機有很大機會幫助改善遇到的問題\n安裝 Linux Kernal Modules 如果你的 Linux kernale \u003e 5.0，那理論上已經包在 Kernel 裡面了，所以不用安裝\nStarting with Ubuntu 19.04 binder and ashmem are now build with the standard Ubuntu kernel (\u003e= 5.0) and you don’t have to install the modules from the PPA anymore.\n但是我還是把命令跑了一次，反正有病治病沒病強身\nsudo add-apt-repository ppa:morphis/anbox-support sudo apt update # 這個步驟應該會包括在上面那個命令，但執行一次也不會壞 sudo apt install linux-headers-generic anbox-modules-dkms # 這個後面那個套件應該會找不到，跳過他 sudo apt install software-properties-common sudo modprobe ashmem_linux sudo modprobe binder_linux 然後如果你還是很擔心不放心有沒有裝好，可以執行下面的指令\ngit clone https://github.com/anbox/anbox-modules /tmp/anbox-modules cd /tmp/anbox-modules sudo ./INSTALL.sh 這時候如果你還是很擔心，不確定有沒有裝好，可以用下面的命令檢查有沒有安裝好（這個時候可能需要重開機）\nls -1 /dev/{ashmem,binder} # 這個是官方用的，但是我怎麼試都失敗，但是 anbox 還是安裝成功了 lsmod | grep -e ashmem -e binder # 我不確定這個找到是不是代表有成功啟動，但是他兩個都找的到 https://docs.anbox.io/userguide/install_kernel_modules.html\n安裝 anbox 如果你的電腦上有 snap，就用 snap 裝；如果沒有，就先去裝 snap。\nsudo snap install --devmode --beta anbox 嘿對，裝好了，可以用這個指令看看有沒有裝好\nsnap info anbox https://docs.anbox.io/userguide/install.html\napt 如果你是 Ubuntu/Debian 長期使用者，你可能會想用 apt 裝 anbox，也不是不行，但是等等裝 Google Play 的時候會出一點點問題（OverlayFS 路徑有問題），最佳解決辦法就是用 snap，不要用 apt\nsudo apt remove anbox 安裝 Google Play 因為 anbox 沒有內建 apk 安裝器，所以沒辦法很方便的安裝 APP，最方便的方法是安裝 Google Play。\nsudo apt install wget curl lzip tar unzip squashfs-tools wget https://raw.githubusercontent.com/geeks-r-us/anbox-playstore-installer/master/install-playstore.sh chmod +x install-playstore.sh sudo ./install-playstore.sh 如果遇到 Overlay not enable 的問題，請不要用 apt，至於位什麼自己研究 install-playstores.sh 跑完如果沒錯誤就可以打開 anbox.appmgr，打開 play 安裝 APP 了。\nhttps://www.clusterednetworks.com/blog/post/install-google-play-store-anbox\n問遺 目前裝好 APP 但是我打不開\n","wordCount":"203","inLanguage":"zh-tw","datePublished":"2022-04-18T18:53:50+08:00","dateModified":"2022-04-18T18:53:50+08:00","author":{"@type":"Person","name":"simba-fs"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.simba-fs.dev/posts/linux/anbox/"},"publisher":{"@type":"Organization","name":"Simba's Blog","logo":{"@type":"ImageObject","url":"https://blog.simba-fs.dev/images/icon/icon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://blog.simba-fs.dev/ accesskey=h title="Home (Alt + H)"><img src=https://blog.simba-fs.dev/images/icon/icon.png alt=logo aria-label=logo height=35>Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://blog.simba-fs.dev/posts/ title=Categories><span>Categories</span></a></li><li><a href=https://blog.simba-fs.dev/archive/ title=Archives><span>Archives</span></a></li><li><a href=https://blog.simba-fs.dev/resource/ title=Resource><span>Resource</span></a></li><li><a href=https://blog.simba-fs.dev/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.simba-fs.dev/>首頁</a>&nbsp;»&nbsp;<a href=https://blog.simba-fs.dev/posts/>posts</a>&nbsp;»&nbsp;<a href=https://blog.simba-fs.dev/posts/linux/>linux</a></div><h1 class=post-title>Anbox</h1><div class=post-meta><span title='2022-04-18 18:53:50 +0800 +0800'>2022-April-18</span>&nbsp;·&nbsp;1 分鐘&nbsp;·&nbsp;simba-fs</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目錄</span></summary><div class=inner><ul><li><a href=#%e7%b3%bb%e7%b5%b1 aria-label=系統>系統</a></li><li><a href=#%e5%ae%89%e8%a3%9d-linux-kernal-modules aria-label="安裝 Linux Kernal Modules">安裝 Linux Kernal Modules</a></li><li><a href=#%e5%ae%89%e8%a3%9d-anbox aria-label="安裝 anbox">安裝 anbox</a><ul><li><a href=#apt aria-label=apt>apt</a></li></ul></li><li><a href=#%e5%ae%89%e8%a3%9d-google-play aria-label="安裝 Google Play">安裝 Google Play</a></li><li><a href=#%e5%95%8f%e9%81%ba aria-label=問遺>問遺</a></li></ul></div></details></div><div class=post-content><p><a href=https://anbox.io/>anbox</a> 是 Android in a box，是一種基於容器化技術的 Android 模擬器，所以執行速度會比較快、比較省資源，而且因為每個 App 都在各自的容器裡面，所以比較安全
（應該沒理解錯吧？）。<br>安裝 anbox 需要先安裝兩個 kernal modules，然後安裝 anbox 後，為了之後方便，所以要裝 Google Play，不裝也是可以，但之後安裝其他 App 比較麻煩</p><h1 id=系統>系統<a hidden class=anchor aria-hidden=true href=#系統>#</a></h1><p>我用的系統是 Ubuntu 21.04，如果你的系統不一樣，可能會有某些步驟不太一樣。<br>這次安裝因為涉及 Linux Kernel 所以隨時重開機有很大機會幫助改善遇到的問題</p><h1 id=安裝-linux-kernal-modules>安裝 Linux Kernal Modules<a hidden class=anchor aria-hidden=true href=#安裝-linux-kernal-modules>#</a></h1><p>如果你的 Linux kernale > 5.0，那理論上已經包在 Kernel 裡面了，所以不用安裝</p><blockquote><p>Starting with Ubuntu 19.04 binder and ashmem are now build with the standard Ubuntu kernel (>= 5.0) and you don’t have to install the modules from the PPA anymore.</p></blockquote><p>但是我還是把命令跑了一次，反正有病治病沒病強身</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo add-apt-repository ppa:morphis/anbox-support
</span></span><span style=display:flex><span>sudo apt update <span style=color:#75715e># 這個步驟應該會包括在上面那個命令，但執行一次也不會壞</span>
</span></span><span style=display:flex><span>sudo apt install linux-headers-generic anbox-modules-dkms <span style=color:#75715e># 這個後面那個套件應該會找不到，跳過他</span>
</span></span><span style=display:flex><span>sudo apt install software-properties-common
</span></span><span style=display:flex><span>sudo modprobe ashmem_linux
</span></span><span style=display:flex><span>sudo modprobe binder_linux
</span></span></code></pre></div><p>然後如果你還是很擔心不放心有沒有裝好，可以執行下面的指令</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/anbox/anbox-modules /tmp/anbox-modules
</span></span><span style=display:flex><span>cd /tmp/anbox-modules
</span></span><span style=display:flex><span>sudo ./INSTALL.sh 
</span></span></code></pre></div><p>這時候如果你<del>還是</del>很擔心，不確定有沒有裝好，可以用下面的命令檢查有沒有安裝好（這個時候可能需要重開機）</p><pre tabindex=0><code>ls -1 /dev/{ashmem,binder} # 這個是官方用的，但是我怎麼試都失敗，但是 anbox 還是安裝成功了
lsmod | grep -e ashmem -e binder # 我不確定這個找到是不是代表有成功啟動，但是他兩個都找的到
</code></pre><blockquote><p><a href=https://docs.anbox.io/userguide/install_kernel_modules.html>https://docs.anbox.io/userguide/install_kernel_modules.html</a></p></blockquote><h1 id=安裝-anbox>安裝 anbox<a hidden class=anchor aria-hidden=true href=#安裝-anbox>#</a></h1><p>如果你的電腦上有 snap，就用 snap 裝；如果沒有，就先去裝 snap。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo snap install --devmode --beta anbox
</span></span></code></pre></div><p>嘿對，裝好了，可以用這個指令看看有沒有裝好</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>snap info anbox
</span></span></code></pre></div><blockquote><p><a href=https://docs.anbox.io/userguide/install.html>https://docs.anbox.io/userguide/install.html</a></p></blockquote><h2 id=apt>apt<a hidden class=anchor aria-hidden=true href=#apt>#</a></h2><p>如果你是 Ubuntu/Debian 長期使用者，你可能會想用 apt 裝 anbox，也不是不行，但是等等裝 Google Play 的時候會出一點點問題（OverlayFS 路徑有問題），最佳解決辦法就是用 snap，不要用 apt</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt remove anbox
</span></span></code></pre></div><h1 id=安裝-google-play>安裝 Google Play<a hidden class=anchor aria-hidden=true href=#安裝-google-play>#</a></h1><p>因為 anbox 沒有內建 apk 安裝器，所以沒辦法很方便的安裝 APP，最方便的方法是安裝 Google Play。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt install wget curl lzip tar unzip squashfs-tools
</span></span><span style=display:flex><span>wget https://raw.githubusercontent.com/geeks-r-us/anbox-playstore-installer/master/install-playstore.sh
</span></span><span style=display:flex><span>chmod +x install-playstore.sh
</span></span><span style=display:flex><span>sudo ./install-playstore.sh
</span></span></code></pre></div><p>如果遇到 Overlay not enable 的問題，請不要用 apt，至於位什麼自己研究 <code>install-playstores.sh</code>
跑完如果沒錯誤就可以打開 <code>anbox.appmgr</code>，打開 play 安裝 APP 了。</p><blockquote><p><a href=https://www.clusterednetworks.com/blog/post/install-google-play-store-anbox>https://www.clusterednetworks.com/blog/post/install-google-play-store-anbox</a></p></blockquote><h1 id=問遺>問遺<a hidden class=anchor aria-hidden=true href=#問遺>#</a></h1><p>目前裝好 APP 但是我打不開</p></div><footer class=post-footer><nav class=paginav><a class=prev href=https://blog.simba-fs.dev/posts/linux/yubikey/><span class=title>« 上一篇</span><br><span>Yubikey</span></a>
<a class=next href=https://blog.simba-fs.dev/posts/linux/ibus-font/><span class=title>下一篇 »</span><br><span>Ibus Font</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://blog.simba-fs.dev/>Simba's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>